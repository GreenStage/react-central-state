module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t.some((function(t){return e.indexOf(t)>=0}))};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var u=function(){function t(e,n){o(this,t),this.component=e,this.pendingUpdate=!1,this.mountedLvl=0}return a(t,[{key:"onMounting",value:function(t){this.mountedLvl=t}},{key:"onUpdating",value:function(){this.pendingUpdate=!1}},{key:"markForUpdate",value:function(){return!!(!1===this.pendingUpdate&&this.mountedLvl>0&&this.component.shouldComponentUpdate(this.component.props,this.component.state))&&(this.pendingUpdate=!0,!0)}},{key:"needToFlush",value:function(){return!0===this.pendingUpdate&&this.mountedLvl>0}},{key:"flush",value:function(){this.component.forceUpdate()}}]),t}(),s=new(function(){function t(){o(this,t),this._registeredListeners=[],this._keyRefsAssoc={},this._mountingLevelCtr=0,this._state={},this._nextState=this._state}return a(t,[{key:"setPartial",value:function(t){var e=Object.keys(t),n=this._state;this._nextState=Object.assign({},this._state),Object.assign(this._nextState,t);var r=this.markComponentsForUpdate(e);this._state=this._nextState,this.notifyListeners(e,n),this.flushComponentsUpdate(r)}},{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Callback must be a function: ");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._registeredListeners.push({callback:t,triggers:n})}},{key:"removeListener",value:function(t){if("function"!=typeof t)throw new Error("Callback must be a function");for(var e=-1,n=0;n<this._registeredListeners.length;n++)this._registeredListeners[n].callback===t&&(e=n);e>-1&&this._registeredListeners.splice(e,1)}},{key:"notifyListeners",value:function(t,e){var n=!0,o=!1,i=void 0;try{for(var a,u=this._registeredListeners[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;r(s.triggers,t)&&s.callback(e)}}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}},{key:"markComponentsForUpdate",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(null!=this._keyRefsAssoc[u]){var s=!0,l=!1,c=void 0;try{for(var f,p=this._keyRefsAssoc[u][Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var y=f.value;!0===y.markForUpdate()&&e.push(y)}}catch(t){l=!0,c=t}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"flushComponentsUpdate",value:function(t){t.sort((function(t,e){return t.mountingLevel-e.mountingLevel}));var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;a.needToFlush()&&a.flush()}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onComponentMounted",value:function(t){t.onMounting(this._mountingLevelCtr),this._mountingLevelCtr--}},{key:"onComponentUpdated",value:function(){this._mountingLevelCtr--}},{key:"onComponentUpdating",value:function(t){t.onUpdating(),this._mountingLevelCtr++}},{key:"unRegisterComponent",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(null!=this._keyRefsAssoc[u]&&Array.isArray(this._keyRefsAssoc[u])){var s=this._keyRefsAssoc[u].indexOf(t);-1!==s&&this._keyRefsAssoc[u].splice(s,1)}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"registerComponent",value:function(t,e){var n=new u(t,0),r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;null!=this._keyRefsAssoc[l]&&Array.isArray(this._keyRefsAssoc[l])||(this._keyRefsAssoc[l]=[]),this._keyRefsAssoc[l].push(n)}}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}]),t}());function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(null==t||!t.prototype.isReactComponent)throw new Error("Wrapped object should extend React.Component.");Object.defineProperty(t.prototype,"centralState",{get:function(){return s._state}});var e=t.displayName||t.name,n=function(t){function n(t){var r,o,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,!(r=!(i=y(n).call(this,t))||"object"!==l(i)&&"function"!=typeof i?f(o):i).updateWith||"function"!=typeof r.updateWith)throw new Error(e+" does not implement updateWith() method.");if(r.triggers=r.updateWith(),!Array.isArray(r.triggers))throw new Error("updateWith() method should return an array of property keys.");return r.storeRegRef=s.registerComponent(f(r),r.triggers),r}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){s.onComponentMounted(this.storeRegRef),p(y(n.prototype),"componentDidMount",this)&&p(y(n.prototype),"componentDidMount",this).call(this)}},{key:"componentWillUnmount",value:function(){p(y(n.prototype),"componentWillUnmount",this)&&p(y(n.prototype),"componentWillUnmount",this).call(this),s.unRegisterComponent(this.storeRegRef,this.triggers)}},{key:"componentDidUpdate",value:function(t,e,r){s.onComponentUpdated(),p(y(n.prototype),"componentDidUpdate",this)&&p(y(n.prototype),"componentDidUpdate",this).call(this,t,e,r)}},{key:"shouldComponentUpdate",value:function(t,e){return!p(y(n.prototype),"shouldComponentUpdate",this)||p(y(n.prototype),"shouldComponentUpdate",this).call(this,t,e,s._nextState)}},{key:"render",value:function(){return s.onComponentUpdating(this.storeRegRef),p(y(n.prototype),"render",this).call(this)}},{key:"addCentralStateListener",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.addListener.apply(s,[t].concat(n))}},{key:"removeCentralStateListener",value:function(t){s.removeListener(t)}},{key:"setCentralState",value:function(t){s.setPartial(t)}}])&&c(r.prototype,o),i&&c(r,i),n}(t);return n.displayName=e,n}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"centralState",{get:function(){return s._state}})}var e,n,r;return e=t,(n=[{key:"setCentralState",value:function(t){s.setPartial(t)}},{key:"addCentralStateListener",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.addListener.apply(s,[t].concat(n))}},{key:"removeCentralStateListener",value:function(t){s.removeListener(t)}}])&&v(e.prototype,n),r&&v(e,r),t}();n.d(e,"CSComponent",(function(){return d})),n.d(e,"CSHandler",(function(){return m}))}]);